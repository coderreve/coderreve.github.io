import{_ as n}from"./plugin-vue_export-helper.21dcd24c.js";import{a as s}from"./app.ebc51866.js";var a="/assets/Snipaste_2022-10-31_21-43-24.5b953c32.png",t="/assets/wpt1.0db6b7d8.png",e="/assets/wpt2.6784028a.png",p="/assets/wpt3.50990abe.png",o="/assets/compress3.c1e2ef6c.png",i="/assets/compress1.4c4ca3f3.png",l="/assets/compress2.b180c5de.png",c="/assets/js1.6d567793.png",r="/assets/js2png.946835e8.png",u="/assets/entry-type.5a1b0078.png",d="/assets/timing-overview.35cc19eb.png",k="/assets/\u6B21\u6570.66bd210e.png",m="/assets/js_measure.0f051d35.png";const v={},b=s('<h1 id="web\u6027\u80FD\u4F18\u5316" tabindex="-1"><a class="header-anchor" href="#web\u6027\u80FD\u4F18\u5316" aria-hidden="true">#</a> Web\u6027\u80FD\u4F18\u5316</h1><h2 id="google\u5BF9\u4E8E\u7F51\u9875\u6027\u80FD\u7684\u51E0\u4E2A\u6307\u6807" tabindex="-1"><a class="header-anchor" href="#google\u5BF9\u4E8E\u7F51\u9875\u6027\u80FD\u7684\u51E0\u4E2A\u6307\u6807" aria-hidden="true">#</a> Google\u5BF9\u4E8E\u7F51\u9875\u6027\u80FD\u7684\u51E0\u4E2A\u6307\u6807</h2><ol><li><strong>FCP: (first contentful paint) \u7B2C\u4E00\u6B21\u9875\u9762\u6E32\u67D3</strong><ul><li>\u7B2C\u4E00\u6B21\u6E32\u67D3DOM\u5185\u5BB9\u7684\u65F6\u95F4(render a bit of content of DOM)</li></ul></li><li><strong>FP (first Paint)</strong><ul><li>\u7B2C\u4E00\u6B21\u6E32\u67D3\u65F6\u95F4, \u6E32\u67D3\u7684\u662F\u7B2C\u4E00\u4E2A\u50CF\u7D20\u7684\u65F6\u95F4, \u548CFCP\u7684\u533A\u522B\u5728\u4E8E, FCP\u662F\u7B2C\u4E00\u4E2ADOM\u5185\u5BB9\u7684\u6E32\u67D3\u65F6\u95F4, \u8FD9\u4E2A\u662F\u7B2C\u4E00\u6B21\u6E32\u67D3\u65F6\u95F4, \u53EF\u80FD\u662F\u80CC\u666F\u989C\u8272</li></ul></li><li><strong>LCP: (lagest contentful paint) \u6700\u5927\u5143\u7D20\u5185\u5BB9\u7684\u6E32\u67D3</strong><ul><li>\u6E32\u67D3\u6700\u5927\u7684\u56FE\u7247\u6216\u8005\u6587\u672C\u7684\u6E32\u67D3\u65F6\u95F4(the largest image or text paint)</li></ul></li><li><strong>CLS: (cumulative layout shift) \u9875\u9762\u5143\u7D20\u7D2F\u8BA1\u504F\u79FB\u91CF</strong><ul><li>\u8D8A\u5C0F\u8D8A\u597D, \u9875\u9762\u7684\u5E03\u5C40\u53D8\u5316\u7684\u8D8A\u5FEB, \u7528\u6237\u4F53\u9A8C\u5C31\u4F1A\u8D8A\u5DEE</li></ul></li><li><strong>FID: (first input delay) \u7B2C\u4E00\u6B21\u8F93\u5165\u5EF6\u8FDF</strong><ul><li>\u7B2C\u4E00\u6B21\u70B9\u51FB, \u6216\u8005\u8F93\u5165\u540E\u5230\u5185\u5BB9\u663E\u793A\u7684\u5EF6\u8FDF, \u6307\u7684\u662Fjs\u811A\u672C\u548C\u7528\u6237\u4E4B\u95F4\u7684\u4EA4\u4E92\u65F6\u95F4, \u8D8A\u77ED\u8D8A\u597D</li></ul></li><li><strong>Speed Index \u901F\u5EA6\u6307\u6570</strong><ul><li>\u6307\u7684\u662F\u5185\u5BB9\u586B\u5145\u9875\u9762\u7684\u5E73\u5747\u901F\u5EA6, \u5B83\u4E3B\u8981\u7528\u4E8E\u6D4B\u91CF\u9875\u9762\u5185\u5BB9\u5728\u89C6\u89C9\u4E0A\u586B\u5145\u7684\u901F\u5EA6\u3002\u901A\u5E38\u4F1A\u4F7F\u7528\u8FD9\u4E2A\u6307\u6807\u6765\u8FDB\u884C\u6027\u80FD\u7684\u6BD4\u8F83</li></ul></li><li><strong>TTFB: (Time to First Byte): \u9996\u5B57\u8282\u83B7\u5F97\u65F6\u95F4.</strong><ul><li>\u6307\u7684\u662F\u7F51\u7EDC\u8BF7\u6C42\u53D1\u51FA(\u4E0D\u5305\u62ECDNS\u89E3\u6790, TCP\u94FE\u63A5\u5EFA\u7ACB, SSL\u534F\u5546, \u662F\u771F\u6B63\u7684\u53D1\u51FA)-------&gt;\u670D\u52A1\u5668\u89E3\u6790(\u5305\u62EC\u6570\u636E\u5E93\u67E5\u8868,\u8FD4\u56DE\u6570\u636E\u6240\u9700\u7684\u8017\u65F6) -----&gt; \u5BA2\u6237\u7AEF\u83B7\u5F97\u6570\u636E(\u4E0D\u9700\u8981\u6E32\u67D3\u6570\u636E, \u83B7\u5F97\u5373\u53EF), \u8FD9\u4E2A\u6307\u6807\u53EF\u4EE5\u8861\u91CF\u7F51\u7EDC\u7684\u60C5\u51B5\u4EE5\u53CA\u540E\u7AEF\u5904\u7406\u6570\u636E\u7684\u901F\u5EA6</li></ul></li><li><strong>TTI:\uFF08Time to Interactive) : \u53EF\u4EA4\u4E92\u65F6\u95F4\u201D</strong><ul><li>\u8868\u793A\u7F51\u9875\u7B2C\u4E00\u6B21 \u5B8C\u5168\u8FBE\u5230\u53EF\u4EA4\u4E92\u72B6\u6001\u7684\u65F6\u95F4\u70B9\u3002\u53EF\u4EA4\u4E92\u72B6\u6001\u6307\u7684\u662F\u9875\u9762\u4E0A\u7684UI\u7EC4\u4EF6\u662F\u53EF\u4EE5\u4EA4\u4E92\u7684\uFF08\u53EF\u4EE5\u54CD\u5E94\u6309\u94AE\u7684\u70B9\u51FB\u6216\u5728\u6587\u672C\u6846\u8F93\u5165\u6587\u5B57\u7B49)</li></ul></li><li><strong>DCL(DomContentLoaded DOM\u89E3\u6790\u7684\u65F6\u95F4)</strong><ul><li>DOM\u89E3\u6790\u6E32\u67D3\u5B8C\u6BD5\u7684\u65F6\u95F4</li></ul></li><li><strong>L (Loaded)</strong></li></ol><ul><li>\u9875\u9762\u5B8C\u5168\u6E32\u67D3\u5B8C\u6210\u7684\u65F6\u95F4, \u5305\u62EC\u9875\u9762\u4E0A\u7684\u4E00\u5207\u8D44\u6E90,\u6BD4\u5982image\u56FE\u7247\u7684\u52A0\u8F7D\u65F6\u95F4, css\u7684\u52A0\u8F7D\u65F6\u95F4,Dom\u6E32\u67D3\u7684\u65F6\u95F4\u7B49\u7B49</li></ul><h2 id="\u8BA4\u8BC6\u5B9E\u9A8C\u5BA4\u6570\u636E\u548C\u771F\u5B9E\u6570\u636E\u7684\u504F\u5DEE" tabindex="-1"><a class="header-anchor" href="#\u8BA4\u8BC6\u5B9E\u9A8C\u5BA4\u6570\u636E\u548C\u771F\u5B9E\u6570\u636E\u7684\u504F\u5DEE" aria-hidden="true">#</a> \u8BA4\u8BC6\u5B9E\u9A8C\u5BA4\u6570\u636E\u548C\u771F\u5B9E\u6570\u636E\u7684\u504F\u5DEE</h2><blockquote><p>\u5373\u4F7F\u5728lightHouse\u4E2D\u52FE\u9009\u4E86clear storage (\u6E05\u9664\u7F13\u5B58\u5F71\u54CD) simulated throtting (\u6A21\u62DF\u4F4E\u6027\u80FD\u8BBE\u5907), \u7ECF\u8FC7\u6D4B\u8BD5\u7684\u6570\u636E\u4E5F\u4E00\u5B9A\u662F\u4E0E\u5B9E\u9645\u4E0D\u76F8\u7B26\u7684. \u771F\u5B9E\u7684\u7528\u6237\u53EF\u80FD\u6BD4\u60F3\u8C61\u7684\u66F4\u5DEE.</p></blockquote><h2 id="network\u7684\u7011\u5E03\u6D41-waterfall" tabindex="-1"><a class="header-anchor" href="#network\u7684\u7011\u5E03\u6D41-waterfall" aria-hidden="true">#</a> Network\u7684\u7011\u5E03\u6D41(waterfall)</h2><p><img src="'+a+'" alt="\u7F51\u7EDC\u8D44\u6E90\u7684\u7011\u5E03\u6D41" loading="lazy"></p><h2 id="chromdev-tools-\u547D\u4EE4\u5927\u5168" tabindex="-1"><a class="header-anchor" href="#chromdev-tools-\u547D\u4EE4\u5927\u5168" aria-hidden="true">#</a> ChromDev tools \u547D\u4EE4\u5927\u5168</h2><h3 id="\u67E5\u770B\u5F53\u524D\u9875\u9762\u5E27\u6570" tabindex="-1"><a class="header-anchor" href="#\u67E5\u770B\u5F53\u524D\u9875\u9762\u5E27\u6570" aria-hidden="true">#</a> \u67E5\u770B\u5F53\u524D\u9875\u9762\u5E27\u6570</h3><blockquote><p>\u6BCF\u4E00\u5E27\u90FD\u662F\u9759\u6B62\u7684\u56FE\u8C61\uFF0C\u5FEB\u901F\u8FDE\u7EED\u5730\u663E\u793A\u5E27(\u56FE\u50CF)\u4FBF\u5F62\u6210\u4E86\u8FD0\u52A8\u7684\u5047\u8C61\uFF0C</p><p>\u5E27\u6570\u662F\u6240\u6709\u56FE\u50CF(\u5E27)\u7684\u603B\u6570, \u82F1\u6587: frames. \u5E27\u7387(frame rate)\u662F\u6BCF\u79D2\u4E2D\u80FD\u663E\u793A\u5E27\u7684\u603B\u6570, \u82F1\u6587 \u4E3AFPS(frames per second).</p><p>\u5E27\u6570\u8D8A\u5927, \u89C6\u9891/\u52A8\u753B\u8D8A\u5E73\u6ED1, \u5C0F\u4E8E60FPS\u7684\u52A8\u753B/\u89C6\u9891\u4F1A\u7ED9\u7528\u6237\u5E26\u6765\u8089\u773C\u53EF\u89C1\u7684\u5361\u987F</p></blockquote><ol><li>\u5728google devtools \u4E2D \u6309\u4F4F ctrl + shift + p</li><li>\u8F93\u5165 FPS \u6216\u8005 show frames per second(FPS) meter</li></ol><h3 id="\u622A\u56FE" tabindex="-1"><a class="header-anchor" href="#\u622A\u56FE" aria-hidden="true">#</a> \u622A\u56FE</h3><ol><li>ctrl + shift + p</li><li>show capture</li></ol><h3 id="\u963B\u6B62\u5F53\u524D\u9875\u9762\u53D1\u8D77\u67D0\u4E2A\u8BF7\u6C42" tabindex="-1"><a class="header-anchor" href="#\u963B\u6B62\u5F53\u524D\u9875\u9762\u53D1\u8D77\u67D0\u4E2A\u8BF7\u6C42" aria-hidden="true">#</a> \u963B\u6B62\u5F53\u524D\u9875\u9762\u53D1\u8D77\u67D0\u4E2A\u8BF7\u6C42</h3><blockquote><p>\u6B64\u547D\u4EE4\u53EF\u8861\u91CF\u5F53\u9875\u9762\u4E0D\u52A0\u8F7D\u67D0\u4E2Ajs/css\u65F6\u5019\u5BF9\u9875\u9762\u662F\u5426\u6709\u5F71\u54CD</p></blockquote><ol><li>ctrl + shift + p</li><li>show network request blocking(\u6216\u8005\u76F4\u63A5\u8F93\u5165 blocking)</li><li>\u52FE\u9009\u4E0A enable network request blocking</li><li>\u6DFB\u52A0\u7981\u6B62\u7684\u6587\u4EF6</li></ol><h2 id="rail\u6A21\u578B" tabindex="-1"><a class="header-anchor" href="#rail\u6A21\u578B" aria-hidden="true">#</a> RAIL\u6A21\u578B</h2><blockquote><p>\u7528\u4E8E\u8BC4\u4F30\u9875\u9762\u6027\u80FD\u4E00\u4E9B\u6307\u6807</p></blockquote><ol><li>R: Response <ul><li>\u4E0D\u662F\u6307\u7684AJAX\u7684\u54CD\u5E94, \u800C\u662F\u6307\u9875\u9762\u7684\u54CD\u5E94, \u6BD4\u5982\u70B9\u51FBbutton\u540E\u7684\u54CD\u5E94, input\u8F93\u5165\u540E\u7684\u54CD\u5E94</li><li>\u5C0F\u4E8E50ms\u4E3A\u4F73</li></ul></li><li>A: Animation <ul><li>\u52A8\u753B</li><li>\u5927\u4E8E60FPS\u5219\u4F1A\u8BA9\u7528\u6237\u6709\u660E\u663E\u7684\u5361\u987F, \u6362\u7B97\u6210\u6BEB\u79D2,\u5219\u4E3A 1\u5E27 / 16.6ms, \u8003\u8651\u5230\u6D4F\u89C8\u5668\u7ED8\u5236\u52A8\u753B\u4E5F\u9700\u8981 \u65F6\u95F4, \u5927\u7EA66ms/\u5E27, \u6240\u4EE5\u52A8\u753B\u5E94\u8BE5\u4F18\u5316\u5230 10ms/\u5E27 \u4E5F\u5C31\u662F100FPS\u5DE6\u53F3</li></ul></li><li>I: Idle <ul><li>\u4E3B\u7EBF\u7A0B\u7A7A\u95F2\u7684\u65F6\u95F4</li><li>\u53EA\u6709\u8BA9\u4E3B\u7EBF\u7A0B\u7A7A\u95F2\u65F6\u95F4\u5F88\u591A, \u624D\u80FD\u5728\u7528\u6237\u4EA4\u4E92\u7684\u65F6\u5019, \u8FC5\u901F\u7684\u53CD\u5E94,\u4E0D\u80FD\u8BA9\u4E3B\u7EBF\u7A0B\u4E00\u76F4\u5904\u4E8E \u7E41\u5FD9\u72B6\u6001, \u5E94\u589E\u52A0\u4E3B\u7EBF\u7A0B\u7684\u7A7A\u95F2\u65F6\u95F4. <strong>\u51CF\u5C11\u957F\u4EFB\u52A1</strong></li></ul></li><li>L: Load <ul><li>\u5B8C\u6210\u8D44\u6E90\u52A0\u8F7D(\u5305\u62EC\u89E3\u6790, \u6E32\u67D3)\u5E76\u4E14\u548C\u7528\u6237\u53EF\u4EE5\u4EA4\u4E92</li><li>\u5C0F\u4E8E5s</li></ul></li></ol><h2 id="\u6027\u80FD\u6D4B\u91CF\u5DE5\u5177" tabindex="-1"><a class="header-anchor" href="#\u6027\u80FD\u6D4B\u91CF\u5DE5\u5177" aria-hidden="true">#</a> \u6027\u80FD\u6D4B\u91CF\u5DE5\u5177</h2><h3 id="https-www-webpagetest-org" tabindex="-1"><a class="header-anchor" href="#https-www-webpagetest-org" aria-hidden="true">#</a> https://www.webpagetest.org</h3><blockquote><p>\u4E00\u4E2A\u6D4B\u8BD5\u7F51\u7AD9\u6027\u80FD\u7684\u7F51\u7AD9, \u5728\u5168\u56FD\u5404\u5730\u94FA\u8BBE\u670D\u52A1\u5668, \u8F93\u5165url\u548C\u4E00\u4E9B\u9009\u9879, \u4FBF\u80FD\u5229\u7528\u94FA\u8BBE\u7684\u670D\u52A1\u5668 \u5BF9\u7F51\u7AD9\u6027\u80FD\u6D4B\u8BD5, \u5E76\u51FA\u793A\u8BE6\u7EC6\u7684\u6027\u80FD\u62A5\u544A</p></blockquote><ol><li>\u9875\u9762\u6307\u6807\u7684\u4ECB\u7ECD <ul><li><img src="'+t+'" alt="\u6838\u5FC3" loading="lazy"></li><li><img src="'+e+'" alt="\u4E00\u822C\u9009\u9879" loading="lazy"></li><li><img src="'+p+'" alt="\u9AD8\u7EA7\u9009\u9879" loading="lazy"></li></ul></li></ol><h3 id="lighthouse" tabindex="-1"><a class="header-anchor" href="#lighthouse" aria-hidden="true">#</a> LightHouse</h3><blockquote><p>\u8C37\u6B4C\u5F00\u53D1\u8005\u5DE5\u5177\u5BF9\u4E8E\u9875\u9762\u6027\u80FD\u68C0\u6D4B\u7684\u4E00\u4E2A\u9009\u9879\u5361\u5DE5\u5177</p></blockquote><ol><li>clear storage : \u6E05\u9664\u7F13\u5B58\u4E0Ecookie\u7B49, \u5F55\u5236\u9875\u9762\u65F6, \u5E94\u8BE5\u52FE\u9009\u4E0A, \u5C3D\u91CF\u6A21\u62DF\u7528\u6237\u7B2C\u4E00\u6B21\u70B9\u51FB\u8FDB\u9875\u9762</li><li>simulated throtting : \u5F00\u53D1\u4EBA\u5458\u7535\u8111\u4E00\u822C\u6BD4\u7528\u6237\u7684\u8981\u597D, \u52FE\u9009\u4E0A\u8FD9\u4E2A\u53EF\u4EE5\u6A21\u62DF\u7535\u8111\u7684\u4F4E\u6027\u80FD</li><li>device : \u8FD0\u884C\u7684\u8BBE\u5907 desktop: pc\u7AEF / mobile :\u79FB\u52A8\u7AEF</li><li>lighthouse\u8FD0\u884C\u65F6, \u5E94\u8BE5\u4E0E\u6D4B\u8BD5\u7684\u9875\u9762\u5265\u79BB\u5F00(\u6307\u628A\u5F00\u53D1\u8005\u5DE5\u5177\u5355\u72EC\u62D6\u51FA\u53BB), \u4EE5\u9632\u6B62\u5F71\u54CD\u9875\u9762\u7684\u5927\u5C0F</li><li>generate report : \u91CD\u65B0\u542F\u52A8\u5F53\u524D\u9875\u9762, \u5E76\u751F\u6210\u6027\u80FD\u62A5\u544A, \u5927\u7EA630s</li></ol><h3 id="\u7EC3\u4E60-\u6D4B\u8BD5-b\u7AD9-\u6398\u91D1-\u548C\u77E5\u4E4E\u7684-fcp-lcp-\u548C-cls" tabindex="-1"><a class="header-anchor" href="#\u7EC3\u4E60-\u6D4B\u8BD5-b\u7AD9-\u6398\u91D1-\u548C\u77E5\u4E4E\u7684-fcp-lcp-\u548C-cls" aria-hidden="true">#</a> \u7EC3\u4E60: \u6D4B\u8BD5 b\u7AD9, \u6398\u91D1 \u548C\u77E5\u4E4E\u7684 FCP, LCP \u548C CLS</h3><table><thead><tr><th></th><th>FCP</th><th>CLS</th><th>LCP</th></tr></thead><tbody><tr><td>b\u7AD9</td><td>1.1 s</td><td>0.006</td><td>1.3 s</td></tr><tr><td>\u6398\u91D1</td><td>0.9 s</td><td>0.035</td><td>2.8 s</td></tr><tr><td>\u77E5\u4E4E</td><td>0.8 s</td><td>0.069</td><td>1.4 s</td></tr></tbody></table><h2 id="\u6027\u80FD\u4F18\u5316\u624B\u6BB5" tabindex="-1"><a class="header-anchor" href="#\u6027\u80FD\u4F18\u5316\u624B\u6BB5" aria-hidden="true">#</a> \u6027\u80FD\u4F18\u5316\u624B\u6BB5</h2><h3 id="_1-\u540E\u7AEF\u5F00\u542Fgzip\u538B\u7F29-\u5BF9\u6587\u4EF6\u8FDB\u884C\u538B\u7F29" tabindex="-1"><a class="header-anchor" href="#_1-\u540E\u7AEF\u5F00\u542Fgzip\u538B\u7F29-\u5BF9\u6587\u4EF6\u8FDB\u884C\u538B\u7F29" aria-hidden="true">#</a> 1. \u540E\u7AEF\u5F00\u542Fgzip\u538B\u7F29, \u5BF9\u6587\u4EF6\u8FDB\u884C\u538B\u7F29</h3><blockquote><p>\u5BF9\u6587\u4EF6\u5F00\u542Fgzip\u538B\u7F29\u53EF\u4EE5\u8BA9\u6587\u4EF6\u5728\u7F51\u7EDC\u4E0A\u4F20\u8F93\u7684\u5927\u5C0F\u964D\u4F4E, \u7F29\u51CF\u4F20\u8F93\u65F6\u95F4 \u54CD\u5E94\u5934\u4E0A\u52A0 Content-Encoding:gzip</p></blockquote><p>node\u670D\u52A1\u5668 <img src="'+o+'" alt="" loading="lazy"></p><p>\u538B\u7F29\u524D\u65F6\u95F4\u5BF9\u6BD4 <img src="'+i+'" alt="" loading="lazy"></p><p>\u538B\u7F29\u540E\u65F6\u95F4\u5BF9\u6BD4 <img src="'+l+`" alt="" loading="lazy"></p><h3 id="_2-\u51CF\u5C11\u9996\u5C4F\u4E2D\u4E0D\u5FC5\u8981\u7684\u7684js\u903B\u8F91" tabindex="-1"><a class="header-anchor" href="#_2-\u51CF\u5C11\u9996\u5C4F\u4E2D\u4E0D\u5FC5\u8981\u7684\u7684js\u903B\u8F91" aria-hidden="true">#</a> 2. \u51CF\u5C11\u9996\u5C4F\u4E2D\u4E0D\u5FC5\u8981\u7684\u7684js\u903B\u8F91</h3><blockquote><p>load\u4E8B\u4EF6\u4E3A\u9875\u9762\u4E2D\u7684css, \u56FE\u7247, js\u811A\u672C, DOM\u7ED3\u6784\u90FD\u52A0\u8F7D\u5B8C\u540E\u89E6\u53D1\u7684\u4E8B\u4EF6</p></blockquote><p><strong>\u963B\u585E\u4EE3\u7801</strong></p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 1500ms\u5185\u4E00\u76F4\u8D70\u903B\u8F91</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">calculatePi</span><span class="token punctuation">(</span><span class="token number">1500</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u6D4B\u8BD5\u5BC6\u96C6\u8BA1\u7B97\u5BF9\u6027\u80FD\u7684\u5F71\u54CD</span>
    <span class="token punctuation">}</span>

    <span class="token function">calculatePi</span><span class="token punctuation">(</span><span class="token parameter">duration</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> start <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> start <span class="token operator">+</span> duration<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// TODO(Dereck): figure out the Math problem</span>
            <span class="token comment">// console.log(1);</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token comment">// ...\u7701\u7565</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u4F18\u5316\u524D\u7684performance\u9009\u9879\u5361</strong><img src="`+c+'" alt="" loading="lazy"></p><p><strong>\u4F18\u5316\u540E\u7684performance\u9009\u9879\u5361</strong><img src="'+r+'" alt="" loading="lazy"></p><h2 id="" tabindex="-1"><a class="header-anchor" href="#" aria-hidden="true">#</a></h2><blockquote><p>js\u63D0\u4F9B\u7684\u53EF\u6D4B\u91CF\u6027\u80FD\u7684API</p></blockquote><ol><li>\u53EF\u6D4B\u91CF\u6027\u80FD\u7684&quot;\u6761\u76EE&quot;</li></ol><ul><li>frame\u548Cnavigation \u63D0\u4F9B\u4E86html\u52A0\u8F7D\u8FC7\u7A0B\u7684\u5B8C\u6574\u7684\u751F\u547D\u5468\u671F\u65F6\u95F4\u70B9. \u4ECE\u8F93\u5165url\u6572\u56DE\u8F66\u5230onload\u6240\u6709\u8D44\u6E90\u52A0\u8F7D\u5B8C\u7684\u5404\u4E2A\u5173\u952E\u65F6\u95F4\u70B9(\u5305\u62EC\u4E0A\u4E2A\u9875\u9762\u7684\u5378\u8F7D, \u91CD\u5B9A\u5411, \u7F13\u5B58, DNS\u67E5\u8BE2, \u5EFA\u7ACBTCP\u94FE\u63A5, \u53D1\u51FA\u8BF7\u6C42, \u54CD\u5E94, \u5904\u7406\u6570\u636E, onload\u52A0\u8F7D\u5B8C\u6210\u7B49 ). \u8BE6\u7EC6\u56FE\u89C1navigation entry lifecycle \u548C\u5404\u4E2A\u65F6\u95F4\u7ED3\u7B97\u8868</li><li>resource\u4E3B\u8981\u6D4B\u91CF\u4E86\u8D44\u6E90\u7684\u751F\u547D\u5468\u671F, \u5305\u62ECcss,script,image\u7B49</li><li>paint \u4E3B\u8981\u6D4B\u91CF\u4E00\u4E9B\u5173\u4E8E\u9875\u9762\u7ED8\u5236\u7684\u6027\u80FD\u4E4B\u95F4, \u5305\u62ECFP\u548CFCP</li><li>measure \u624B\u52A8\u6D4B\u91CF\u4E24\u4E2A\u65F6\u95F4\u70B9\u89C1\u7684\u6027\u80FD. \u5E38\u4E0Eperformance.mark\u642D\u914D\u4F7F\u7528</li><li><img src="'+u+`" alt="" loading="lazy"></li></ul><ol start="2"><li>performance.getEntries() \u6309\u7167startTime\u6392\u5E8F <ul><li>\u8FD4\u56DE\u4ECE\u52A0\u8F7Durl\u5230\u89E6\u53D1\u65B9\u6CD5\u65F6\u95F4\u5185, \u5305\u542B\u7684\u6240\u6709\u6761\u76EE\u7684\u751F\u547D\u5468\u671F</li></ul></li><li>performance.getEntriesByType() \u6309\u7167startTime\u6392\u5E8F <ul><li>\u8FD4\u56DE\u4ECE\u52A0\u8F7Durl\u5230\u89E6\u53D1\u65B9\u6CD5\u65F6\u95F4\u8282\u70B9\u5185, \u5305\u542B\u7684\u6307\u5B9A\u6761\u76EE\u7684\u751F\u547D\u5468\u671F</li></ul></li><li>performance.getEntriesByName() \u6309\u7167startTime\u6392\u5E8F <ul><li>\u8FD4\u56DE\u89E6\u53D1\u65B9\u6CD5\u65F6\u95F4\u8282\u70B9\u5185, \u5305\u542B\u7684\u6307\u5B9A\u540D\u79F0\u7684\u751F\u547D\u5468\u671F</li></ul></li><li>performance.mark(name) <ul><li>\u53EF\u4EE5\u5728\u67D0\u4E2A\u65F6\u95F4\u70B9\u6253\u70B9, \u8BB0\u5F55\u5176\u5F00\u59CB\u4E8B\u4EF6. \u518D\u5728\u53E6\u4E00\u4E2A\u4E8B\u4EF6\u70B9\u6253\u70B9, \u518D\u5229\u7528performance.measure\u8861\u91CF\u4E24\u4E2A\u70B9\u4E4B\u95F4\u7684\u6027\u80FD</li></ul></li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span>performance<span class="token punctuation">,</span> PerformanceObserver<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;perf_hooks&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">+</span> b

<span class="token keyword">const</span> ob <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PerformanceObserver</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">list</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">getEntries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

ob<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">entryTypes</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&#39;measure&#39;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

performance<span class="token punctuation">.</span><span class="token function">mark</span><span class="token punctuation">(</span><span class="token string">&#39;start&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10000000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&#39;a11&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10000000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> end <span class="token operator">=</span> performance<span class="token punctuation">.</span><span class="token function">mark</span><span class="token punctuation">(</span><span class="token string">&#39;end&#39;</span><span class="token punctuation">)</span>
performance<span class="token punctuation">.</span><span class="token function">measure</span><span class="token punctuation">(</span><span class="token string">&#39;measure_start_end&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;start&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;end&#39;</span><span class="token punctuation">)</span>


</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="6"><li>PerformaceObserver <ul><li>1-5\u7684API\u53EA\u80FD\u5728\u67D0\u4E2A\u65F6\u95F4\u70B9\u6D4B\u6027\u80FD, \u8BE5API\u662F\u53EA\u8981\u6027\u80FD\u6761\u76EE\u4EA7\u751F\u4E86\u5C31\u80FD\u83B7\u5F97, \u66F4\u7075\u6D3B</li><li>\u53EF\u4EE5\u5F53\u67D0\u4E2A\u6216\u8005\u67D0\u4E9B\u6027\u80FD\u6761\u76EE\u88AB\u8BB0\u5F55\u4E0B\u6765\u7684, \u8C03\u7528\u56DE\u8C03\u51FD\u6570</li></ul></li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PerformanceObserver</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">list<span class="token punctuation">,</span> obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> entries <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">getEntries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> entries<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Process &quot;mark&quot; and &quot;frame&quot; events</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">entryTypes</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;mark&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;frame&quot;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="7"><li>\u76D1\u89C6\u957F\u4EFB\u52A1</li></ol><ul><li>\u6267\u884C\u8017\u65F6&gt;50ms\u7684\u4EFB\u52A1\u5C31\u88AB\u79F0\u4E3A\u957F\u4EFB\u52A1. \u7528\u6237\u6700\u5C11\u9700\u898160FPS\u7684\u5E27\u6570\u4E5F\u5C31\u662F16.6ms\u663E\u793A\u4E00\u5E27\u624D\u4E0D\u4F1A\u89C9\u5F97 \u5361\u987F. &gt;50ms\u7684\u4EFB\u52A1, \u5F88\u5BB9\u6613\u8BA9\u7528\u6237\u611F\u89C9\u5230\u5361\u987F\u6240\u4EE5\u9700\u8981\u68C0\u6D4B\u957F\u4EFB\u52A1, \u8FDB\u884C\u4F18\u5316</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PerformanceObserver</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">list<span class="token punctuation">,</span> obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">entryTypes</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;longtask&quot;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="navigation-entry-lifecycle-\u548C\u5404\u4E2A\u65F6\u95F4\u7ED3\u7B97\u8868" tabindex="-1"><a class="header-anchor" href="#navigation-entry-lifecycle-\u548C\u5404\u4E2A\u65F6\u95F4\u7ED3\u7B97\u8868" aria-hidden="true">#</a> navigation entry lifecycle \u548C\u5404\u4E2A\u65F6\u95F4\u7ED3\u7B97\u8868</h2><blockquote><p>\u4E0B\u56FE\u7684navigation\u7684\u751F\u547D\u5468\u671F, \u50CFresource\u548C\u5176\u4ED6\u6761\u76EE\u7684\u751F\u547D\u5468\u671F\u53EF\u80FD\u6BD4\u8FD9\u4E2A\u77ED</p></blockquote><p><img src="`+d+'" alt="" loading="lazy"></p><p><img src="'+k+`" alt="" loading="lazy"></p><h2 id="\u5173\u952E\u6E32\u67D3\u8DEF\u5F84" tabindex="-1"><a class="header-anchor" href="#\u5173\u952E\u6E32\u67D3\u8DEF\u5F84" aria-hidden="true">#</a> \u5173\u952E\u6E32\u67D3\u8DEF\u5F84</h2><blockquote><p><strong>\u5173\u952E\u6E32\u67D3\u8DEF\u5F84</strong>\u662F\u6D4F\u89C8\u5668\u5C06 HTML\uFF0CCSS \u548C JavaScript \u8F6C\u6362\u4E3A\u5C4F\u5E55\u4E0A\u7684\u50CF\u7D20\u6240\u7ECF\u5386\u7684\u6B65\u9AA4\u5E8F\u5217\u3002</p><p>\u200B --- MDN</p></blockquote><p>\u5173\u952E\u6E32\u67D3\u8DEF\u5F84 (Critical Render Path) \u6307html\u54CD\u5E94\u5230\u7ED8\u5236\u51FA\u56FE\u50CF\u7684\u8FC7\u7A0B. \u5176\u5305\u62ECDOM\u6811, CSSOM\u6811, Render\u6811\u7684\u6784\u5EFA\u548Clayout\u5E03\u5C40\u548Cpaint\u7ED8\u5236</p><p>\u7B80\u5355\u7684\u89E3\u91CA\u4E00\u4E0B</p><ol><li><strong>DOM\u6811+CSSOM\u6811 = Render(layout)\u6811</strong><ul><li>( html\u548Ccss\u89E3\u6790\u540E\u751F\u6210\u4E24\u68F5\u6811, \u518D\u5408\u6210\u4E00\u4E2A\u5305\u542B\u7740\u7ED3\u6784\u548C\u6837\u5F0F\u4FE1\u606F\u7684\u6811, \u79F0\u4E3Arender\u6811. \u5176\u4E2Ddisplay:none\u7684\u8282\u70B9, \u4E0D\u8FDB\u5165render\u6811 )</li></ul></li><li><strong>layout\u5E03\u5C40</strong><ul><li>(\u8BA1\u7B97\u89C6\u56FE\u9700\u8981\u7684\u4F4D\u7F6E\u4FE1\u606F, \u6BD4\u5982offsetWidth\u7B49 \u4E00\u4E2A\u6EA2\u51FAauto\u7684div, \u6EDA\u52A8\u6761\u7684\u5927\u5C0F\u4F4D\u7F6E\u7B49\u4FE1\u606F, \u6BD4\u5982\u89E3\u6790\u5B9E\u4F53\u7B26\u53F7\u7684\u6362\u884C, \u5C06\u4FE1\u606F\u6CE8\u5165layout \u6811)</li></ul></li><li><strong>paint\u7ED8\u5236</strong><ul><li>(\u5C06\u56FE\u5F62\u753B\u51FA\u6765)</li></ul></li><li><strong>composite\u590D\u5408</strong><ul><li>(\u7ED8\u5236\u662F\u5728\u4E0D\u540C\u53EF\u80FD\u56FE\u5C42\u4E0A\u505A\u7684, \u590D\u5408\u5373\u5C06\u4E0D\u540C\u7684\u56FE\u5C42\u7EC4\u5408\u8D77\u6765, \u5F62\u6210\u6700\u7EC8\u7684\u7ED8\u5236\u6548\u679C, \u6B64\u8FC7\u7A0B\u7531\u590D\u5408\u7EBF\u7A0B\u63A7\u5236, \u4E0D\u7531\u4E3B\u7EBF\u7A0B\u63A7\u5236)</li></ul></li></ol><h2 id="\u4F18\u5316\u56DE\u6D41" tabindex="-1"><a class="header-anchor" href="#\u4F18\u5316\u56DE\u6D41" aria-hidden="true">#</a> \u4F18\u5316\u56DE\u6D41</h2><h3 id="\u4F18\u5316\u56DE\u6D41\u4E4B\u8BFB\u5199\u5206\u79BB" tabindex="-1"><a class="header-anchor" href="#\u4F18\u5316\u56DE\u6D41\u4E4B\u8BFB\u5199\u5206\u79BB" aria-hidden="true">#</a> \u4F18\u5316\u56DE\u6D41\u4E4B\u8BFB\u5199\u5206\u79BB</h3><p>\u9891\u7E41\u7684\u8BFB\u5199\u64CD\u4F5C\u4F1A\u5BFC\u81F4\u5F3A\u5236\u56DE\u6D41(forced layout)</p><p>\u5982 offsetWdith\u8BFB\u53D6\u5BBD\u5EA6\u540E\u518D\u901A\u8FC7 style.width\u8BBE\u7F6E\u5BBD\u5EA6, \u6B64\u65F6\u4F1A\u53D1\u751F\u5F3A\u5236\u56DE\u6D41, \u9891\u7E41\u7684\u5F3A\u5236\u56DE\u6D41\u4F1A\u5BFC\u81F4\u65F6\u95F4\u6D88\u8017</p><p>\u89E3\u51B3\u65B9\u6848 :</p><p>\u901A\u8FC7 fastdom\u5E93, \u5C06\u8BFB\u5199\u5206\u79BB, \u4ECE\u8BFB\u5199\u8BFB\u5199 \u53D8\u6210\u8BFB\u8BFB\u5199\u5199. \u53D6\u6D88\u6BCF\u6B21\u52A8\u753B\u5E27\u7684\u5F3A\u5236\u56DE\u6D41</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">update</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">timestamp</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> imgs <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&#39;.MuiCardMedia-img&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> imgs<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      fastdom<span class="token punctuation">.</span><span class="token function">measure</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> img <span class="token operator">=</span> imgs<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
        <span class="token keyword">const</span> top <span class="token operator">=</span> img<span class="token punctuation">.</span>offsetTop

        fastdom<span class="token punctuation">.</span><span class="token function">mutate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          img<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token punctuation">(</span>
            <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>top <span class="token operator">+</span> timestamp <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">500</span>
          <span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#39;px&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>update<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;load&#39;</span><span class="token punctuation">,</span> update<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u4F18\u5316\u56DE\u6D41\u4E4Btranfrom\u4E0Eopacity\u4E0E\u56FE\u5C42" tabindex="-1"><a class="header-anchor" href="#\u4F18\u5316\u56DE\u6D41\u4E4Btranfrom\u4E0Eopacity\u4E0E\u56FE\u5C42" aria-hidden="true">#</a> \u4F18\u5316\u56DE\u6D41\u4E4Btranfrom\u4E0Eopacity\u4E0E\u56FE\u5C42</h3><p>\u5229\u7528transform \u548C opcity \u4EE3\u66FF\u4FEE\u6539\u4F4D\u7F6E\u4FE1\u606F\u7684DOM\u64CD\u4F5C</p><p>\u4FEE\u6539transform \u548C opacity\u7684animation\u6216\u8005transition\u53EA\u4F1A\u89E6\u53D1\u56FE\u5C42\u7684\u590D\u5408. \u800C\u4E0D\u4F1A\u89E6\u53D1\u56DE\u6D41.</p><p>\u901A\u8FC7performance\u9009\u9879\u5361\u53EF\u4EE5\u770B\u5230, \u4F7F\u7528transform\u8FDB\u884C\u7684\u4F4D\u79FB, \u4E3B\u7EBF\u7A0B\u672A\u51FA\u73B0 \u91CD\u7ED8\u548C\u56DE\u6D41\u7684\u64CD\u4F5C</p><p>\u731C\u6D4B\u662F\u7531 \u590D\u5408\u7EBF\u7A0B\u505A\u7684\u5904\u7406 \u518D\u590D\u5408\u56FE\u5C42, \u6240\u4EE5\u4E3B\u7EBF\u7A0B\u53EF\u4EE5\u66F4\u591A\u7CBE\u529B\u5904\u7406\u5176\u4ED6js</p><p>\u6D4F\u89C8\u5668\u4F1A\u4E3A\u505A\u52A8\u753B\u7684\u5143\u7D20\u5F00\u4E00\u4E2A\u56FE\u5C42(transform/transition), \u4E5F\u53EF\u4EE5\u5229\u7528css\u7684will-change\u63D0\u524D\u6307\u5B9A\u4E3A\u90A3\u4E9B\u5143\u7D20\u5F00\u542F\u56FE\u5C42, \u4F18\u5316\u6027\u80FD</p><h2 id="window-requestanimationframe" tabindex="-1"><a class="header-anchor" href="#window-requestanimationframe" aria-hidden="true">#</a> window.requestAnimationFrame</h2><p>requestAnimationFrame(cb)</p><p>\u7531\u6D4F\u89C8\u5668\u8C03\u5EA6, \u5728\u5F53\u524D\u7535\u8111\u5237\u65B0\u7387\u4E0B, \u5237\u65B0\u524D\u4E00\u5E27\u524D\u8C03\u7528</p><p>\u5373: raf(\u56DE\u8C03\u4E2D\u6D89\u53CA\u91CD\u7ED8\u6216\u8005\u56DE\u6D41\u4EE3\u7801) ---&gt; \u5E03\u5C40 ---&gt; \u91CD\u7ED8 --&gt; \u5C4F\u5E55\u5237\u65B0\u4E00\u5E27</p><h2 id="\u6602\u8D35\u7684js" tabindex="-1"><a class="header-anchor" href="#\u6602\u8D35\u7684js" aria-hidden="true">#</a> \u6602\u8D35\u7684js</h2><blockquote><p>\u4E0B\u56FE\u662F\u6765\u81EAgoogle\u56E2\u961F\u7684\u5206\u4EAB</p></blockquote><img src="`+m+`"><p>\u6839\u636E\u5982\u56FE\u53EF\u4EE5\u770B\u51FA</p><p>\u8BF7\u6C42\u540C\u6837\u662F170kb\u7684js\u6587\u4EF6\u548C\u56FE\u7247\u7684\u65F6\u95F4\u5F00\u9500\u662F\u4E0D\u540C\u7684</p><p>\u5176\u4E2D\u7F51\u7EDC\u8BF7\u6C42\u7684\u65F6\u95F4\u662F\u76F8\u540C\u76843.4s</p><p>\u4F46\u662F\u6D4F\u89C8\u5668\u89E3\u6790js\u82B1\u4E863.5s\u5DE6\u53F3, \u5305\u62EC\u7F16\u8BD1\u548C\u6267\u884Cjs\u4EE3\u7801</p><p>\u89E3\u6790\u56FE\u7247\u53EA\u82B1\u4E8628ms\u5DE6\u53F3</p><p>\u7531\u6B64\u53EF\u89C1, js\u7684\u65F6\u95F4\u5F00\u9500\u66F4\u5927, \u6211\u4EEC\u5E94\u8BE5\u5BF9js\u7684\u8FDB\u884C\u9002\u5F53\u7684\u4F18\u5316, \u4F7F\u7F16\u8F91\u548C\u6267\u884C\u7684\u901F\u5EA6\u52A0\u5FEB</p><h3 id="js\u4F18\u5316\u4E4B\u5199\u51FA\u9965\u997F\u89E3\u6790-earger-parse-\u4E0E-lazy-parsing-\u61D2\u89E3\u6790" tabindex="-1"><a class="header-anchor" href="#js\u4F18\u5316\u4E4B\u5199\u51FA\u9965\u997F\u89E3\u6790-earger-parse-\u4E0E-lazy-parsing-\u61D2\u89E3\u6790" aria-hidden="true">#</a> js\u4F18\u5316\u4E4B\u5199\u51FA\u9965\u997F\u89E3\u6790(earger parse)\u4E0E lazy parsing \u61D2\u89E3\u6790</h3><blockquote><p>\u8FD9\u90E8\u5206\u5185\u5BB9, \u8BA9\u6211\u611F\u5230\u4E0D\u771F\u5B9E, \u7F51\u4E0A\u53C8\u627E\u4E0D\u5230\u76F8\u5173\u8D44\u6599, \u6240\u4EE5\u4E0D\u8BB0\u5F55. \u5927\u6982\u5185\u5BB9\u53EF\u4EE5\u770B\u4E0B\u8FB9\u94FE\u63A5\u8FDB\u884C\u56DE\u987E</p></blockquote><p>http://www.manongjc.com/detail/55-ybqzslbnydqituz.html</p><h2 id="\u56FE\u7247\u4F18\u5316" tabindex="-1"><a class="header-anchor" href="#\u56FE\u7247\u4F18\u5316" aria-hidden="true">#</a> \u56FE\u7247\u4F18\u5316</h2><h3 id="_1-\u56FE\u7247\u683C\u5F0F" tabindex="-1"><a class="header-anchor" href="#_1-\u56FE\u7247\u683C\u5F0F" aria-hidden="true">#</a> 1. \u56FE\u7247\u683C\u5F0F</h3><ol><li>jpg / jpeg <ul><li>\u8272\u5F69\u611F\u5F3A, \u9AD8\u538B\u7F29\u6BD4. 30kb --&gt; 5kb \u4E14\u5F71\u54CD\u56FE\u7247\u8D28\u91CF\u5C0F</li><li>\u7F3A\u70B9: \u8FB9\u7F18\u548C\u7EB9\u7406\u5904\u7406\u4E0D\u597D</li><li>\u9002\u5408: \u7ECF\u8FC7\u538B\u7F29\u540E\u663E\u793A\u4E3A\u5927\u56FE\u7247, \u80CC\u666F\u56FE</li></ul></li><li>png <ul><li>\u652F\u6301\u80CC\u666F\u900F\u660E</li><li>\u548Cjpg\u8FD1\u4F3C\u7684\u538B\u7F29\u6BD4, \u8FB9\u7F18\u548C\u7EB9\u7406\u5904\u7406\u6BD4jpg\u597D. \u4F46\u8D28\u91CF\u6BD4jpg\u5927. \u9002\u5408logo</li></ul></li><li>webp <ul><li>google\u63A8\u51FA\u56FE\u7247\u683C\u5F0F, \u538B\u7F29\u66F4\u9AD8, \u8D28\u91CF\u66F4\u5C0F. \u622A\u6B62\u81F3\u4ECA\u6D4F\u89C8\u5668\u517C\u5BB9\u6027\u8FD8\u53EF\u4EE5</li><li>\u6DD8\u5B9D\u7528\u7684\u662Fwebp</li></ul></li></ol><p>\u603B\u7ED3: \u5BF9\u4E8E\u975E\u7535\u5546\u8FD9\u79CD\u56FE\u7247\u5DE8\u591A\u7684\u7F51\u7AD9, \u5176\u5B9E\u66F4\u9700\u8981\u5173\u6CE8\u7684\u662F\u600E\u4E48\u538B\u7F29\u56FE\u7247, \u800C\u4E0D\u662F\u6781\u81F4\u7684\u56FE\u7247\u683C\u5F0F</p><h3 id="_2-\u4F18\u5316\u56FE\u7247" tabindex="-1"><a class="header-anchor" href="#_2-\u4F18\u5316\u56FE\u7247" aria-hidden="true">#</a> 2. \u4F18\u5316\u56FE\u7247</h3><ol><li><p>\u56FE\u7247\u61D2\u52A0\u8F7D</p><ul><li>\u5728\u6ED1\u52A8\u5230\u5BF9\u5E94\u89C6\u53E3\u65F6\u5019\u518D\u52A0\u8F7D\u8BE5\u56FE\u7247, \u5982\u4F7F\u7528react-lazy-load-image-component\u5305</li></ul></li><li><p>\u6E10\u8FDB\u5F0F\u56FE\u7247</p><ul><li>\u4E3B\u8981\u4F18\u5316\u7528\u6237\u4F53\u9A8C, \u52A0\u8F7D\u67D0\u4E00\u5F20\u56FE\u7247\u65F6\u5019\u5148\u51FA\u4E00\u4E2A\u6A21\u7CCA\u7684\u6548\u679C, \u518D\u9010\u6E10\u52A0\u8F7D\u6210\u6E05\u6670\u7684\u56FE\u7247</li><li>\u4F9D\u8D56\u4E8E\u56FE\u7247\u672C\u8EAB\u7684\u529F\u80FD, \u9700\u8981\u7F8E\u5DE5\u51FA\u4E00\u5F20\u56FE\u7247, \u524D\u7AEF\u52A0\u8F7D\u5373\u53EF. \u6216\u8005\u6709\u73B0\u6210\u7684js\u5E93(progressive-image\u7B49), \u6216\u8005\u5728\u7EBF\u8F6C\u6362\u5DE5\u5177\u81EA\u5DF1\u641E</li><li>\u53C2\u8003\u6587\u7AE0:https://blog.csdn.net/example440982/article/details/121554438</li></ul></li><li><p>\u54CD\u5E94\u5F0F\u56FE\u7247</p><ul><li><p>\u540C\u4E00\u79CD\u6548\u679C, \u5728\u4E0D\u540C\u7684\u8BBE\u5907\u4E0A\u52A0\u8F7D\u4E0D\u540C\u7684\u56FE\u7247. \u907F\u514D\u4E86\u5C0F\u8BBE\u5907\u52A0\u8F7D\u5927\u56FE\u7247\u7B49\u6D6A\u8D39\u95EE\u9898</p></li><li><p>\u4F9D\u8D56\u4E8Eimage\u6807\u7B7E\u81EA\u5E26\u7684srcset\u5C5E\u6027, \u53EF\u4EE5\u6307\u5B9A\u4E0D\u540C\u5206\u8FA8\u7387\u4E0B\u7684src. \u53C2\u8003\u6587\u6863https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLImageElement/srcset</p></li><li><p>\u4F9D\u8D56\u4E8Eimage\u6807\u7B7E\u81EA\u5E26\u7684sizes\u5C5E\u6027. \u53EF\u4EE5\u6307\u5B9A\u4E0D\u540C\u5206\u8FA8\u7387\u4E0B\u56FE\u7247\u7684\u5927\u5C0F</p></li><li><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code>&lt;!DOCTYPE html&gt;
&lt;html lang=<span class="token string">&quot;en&quot;</span>&gt;
&lt;head&gt;
        &lt;meta charset=<span class="token string">&quot;UTF-8&quot;</span>&gt;
&lt;/head&gt;
&lt;body&gt;
        &lt;img src=<span class="token string">&quot;/images/fj1.jpg&quot;</span>   
        srcset=<span class="token string">&quot;/images/fj1.jpg 128w, /images/fj2.jpg 256w, /images/fj3.jpg 512w&quot;</span>  
        sizes=<span class="token string">&quot;(max-width: 360px) 340px, 128px&quot;</span> //\u8868\u793A\u5F53\u89C6\u533A\u5BBD\u5EA6\u4E0D\u5927\u4E8E360\u50CF\u7D20\u65F6\u5019\uFF0C\u56FE\u7247\u7684\u5BBD\u5EA6\u9650\u5236\u4E3A340\u50CF\u7D20\uFF0C\u5176\u4ED6\u60C5\u51B5\u4E0B\uFF0C\u4F7F\u7528128\u50CF\u7D20
     /&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ol><h2 id="\u81EA\u5B9A\u4E49\u5B57\u4F53\u4F18\u5316" tabindex="-1"><a class="header-anchor" href="#\u81EA\u5B9A\u4E49\u5B57\u4F53\u4F18\u5316" aria-hidden="true">#</a> \u81EA\u5B9A\u4E49\u5B57\u4F53\u4F18\u5316</h2><blockquote><p>\u5728\u9879\u76EE\u4E2D\u53EF\u80FD\u4F1A\u4F7F\u7528\u67D0\u4E9B\u5B57\u4F53, \u9700\u8981\u7528\u6237\u4E0B\u8F7D</p></blockquote><ol><li>\u901A\u8FC7@font-face\u5F15\u5165\u5B57\u4F53\u5305 https://developer.mozilla.org/zh-CN/docs/Web/CSS/@font-face</li><li>\u901A\u8FC7unicode-range:\u6307\u5B9A\u5B57\u4F53\u5305\u5E94\u7528\u8303\u56F4: https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/unicode-range</li><li>\u901A\u8FC7 font-display\u6307\u5B9A\u5408\u9002\u7684\u95EA\u70C1\u7B56\u7565 https://developer.mozilla.org/zh-CN/docs/Web/CSS/@font-face/font-display</li></ol><h2 id="http\u4F18\u5316" tabindex="-1"><a class="header-anchor" href="#http\u4F18\u5316" aria-hidden="true">#</a> Http\u4F18\u5316</h2><h3 id="gzip\u538B\u7F29" tabindex="-1"><a class="header-anchor" href="#gzip\u538B\u7F29" aria-hidden="true">#</a> Gzip\u538B\u7F29</h3><p>gzip\u538B\u7F29\u53EF\u4EE5\u901A\u8FC7webpack\u7684\u63D2\u4EF6\u5728\u524D\u7AEF\u5F00\u542F\uFF0C \u4E5F\u53EF\u4EE5\u901A\u8FC7\u914D\u7F6ENginx\u5728\u8BF7\u6C42\u65F6\u5019\u7531\u670D\u52A1\u7AEF\u52A8\u6001\u751F\u6210\u3002 \u90FD\u53EF\u4EE5\u7528\u6765\u51CF\u5C11\u7F51\u7EDC\u4F20\u8F93\u8FC7\u7A0B\u4E2D\u7684\u65F6\u95F4\u3002 \u6D4F\u89C8\u5668\u80FD\u81EA\u52A8\u89E3\u6790gzip\u538B\u7F29\u540E\u7684\u6587\u4EF6</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u524D\u7AEF\u5F00\u542Fgzip\u538B\u7F29\uFF0C \u914D\u7F6E\u4E86\u4EE5\u540E\u4F1A\u751F\u6210.gz\u6587\u4EF6\uFF0C \u8FD8\u9700\u8981\u914D\u7F6Enginx\uFF0C \u8BA9\u8BF7\u6C42\u65F6\u5019\u4F18\u5148\u8FD4\u56DE.gz\u6587\u4EF6</span>
<span class="token comment">// \u4EE5\u4E0B\u662F@craco\u914D\u7F6E</span>
<span class="token keyword">const</span> CompressionWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;compression-webpack-plugin&#39;</span><span class="token punctuation">)</span>

<span class="token function-variable function">configure</span><span class="token operator">:</span> <span class="token parameter">webpackConfig</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">/* plugins */</span>
      <span class="token function">whenProd</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        webpackConfig<span class="token punctuation">.</span>plugins <span class="token operator">=</span> <span class="token punctuation">[</span>
          <span class="token operator">...</span>webpackConfig<span class="token punctuation">.</span>plugins<span class="token punctuation">,</span>
          <span class="token comment">/* gzip\u538B\u7F29 */</span>
          <span class="token keyword">new</span> <span class="token class-name">CompressionWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.(html|js|css)</span><span class="token regex-delimiter">/</span></span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="http\u4E4Bkeep-alive" tabindex="-1"><a class="header-anchor" href="#http\u4E4Bkeep-alive" aria-hidden="true">#</a> http\u4E4BKeep-Alive</h3><blockquote><p>http\u534F\u8BAE\u4F1A\u81EA\u52A8\u7684\u5F00\u542Fkeep-alive\uFF0C \u5176\u7279\u70B9\u5C31\u662F\u8BBF\u95EE\u76F8\u540C\u7684\u57DF\u540D\uFF0C \u4E0D\u4F1A\u8FDB\u884C\u591A\u6B21tcp\u94FE\u63A5\u7684\u5EFA\u7ACB</p><p>\u51CF\u5C11\u8017\u65F6\u3002 \u540C\u65F6\u53EF\u4EE5\u901A\u8FC7\u914D\u7F6Enginx\u914D\u7F6E\u66F4\u8BE6\u7EC6\u7684keep-alive\u8BBE\u7F6E</p><p>\u53EF\u4EE5\u5728\u54CD\u5E94\u62A5\u6587\u4E2D\u770B\u5230 connection\uFF1Akeep-alive</p></blockquote><h3 id="\u5F00\u542Fhttp\u7F13\u5B58\u6280\u672F" tabindex="-1"><a class="header-anchor" href="#\u5F00\u542Fhttp\u7F13\u5B58\u6280\u672F" aria-hidden="true">#</a> \u5F00\u542Fhttp\u7F13\u5B58\u6280\u672F</h3><p>\u5229\u7528\u6D4F\u89C8\u5668\u7684\u7F13\u5B58\u6280\u672F\uFF0C \u5728\u4E00\u5B9A\u65F6\u95F4\u5185\u4E0D\u5FC5\u6BCF\u6B21\u90FD\u8BF7\u6C42\u76F8\u540C\u6587\u4EF6\uFF0C \u4F18\u5316\u52A0\u8F7D\u901F\u5EA6</p><p>\u540C\u6837\u9700\u8981\u540E\u7AEF\u901A\u8FC7\u914D\u7F6Enginx\u6765\u914D\u7F6E\u6587\u4EF6\u7684\u54CD\u5E94\u5934\uFF0C \u4ECE\u800C\u544A\u8BC9\u6D4F\u89C8\u5668\u54EA\u4E9B\u6587\u4EF6\u91C7\u7528\u4EC0\u4E48\u7F13\u5B58\u7B56\u7565</p><p>\u5176\u4E2D\u5F3A\u7F13\u5B58\u76F8\u5173\u7684\u54CD\u5E94\u5934\u662F</p><p>Cache-Control/expiers</p><p>\u524D\u8005\u662F\u76F8\u5BF9\u65F6\u95F4\u6216\u8005 \u201Cno-cache\u201D\u8FD9\u6837\u7684\u5B57\u7B26\uFF0C \u540E\u8005\u662F\u7EDD\u5BF9\u65F6\u95F4\u3002 \u76EE\u7684\u662F\u544A\u8BC9\u6D4F\u89C8\u5668\u8FD9\u4E2A\u8D44\u6E90\u5728\u89C4\u5B9A\u7684\u65F6\u95F4\u5185\u4E0D\u9700\u8981\u8BF7\u6C42\u670D\u52A1\u5668\uFF0C \u76F4\u63A5\u8D70\u7F13\u5B58\u3002 \u5176\u4E2DCache-Control\u7684\u4F18\u5148\u7EA7\u6BD4\u540E\u8005\u9AD8\u3002</p><p>\u5176\u4E2D\u534F\u5546\u7F13\u5B58\u76F8\u5173\u7684\u54CD\u5E94\u5934\u662F</p><p>If-None-Match\u548CEtag</p><p>If-Modifierd-Since\u548Clast-modifierd</p><p>\u534F\u5546\u7F13\u5B58\u5373\uFF1A \u8FC7\u4E86\u5F3A\u7F13\u5B58\u7684\u7EA6\u5B9A\u65F6\u95F4\u540E\uFF0C \u5BA2\u6237\u7AEF\u4F1A\u643A\u5E26\u8005\u4E00\u4E2A\u51ED\u8BC1\u95EE\u95EE\u670D\u52A1\u7AEF\u6587\u4EF6\u662F\u5426\u4FEE\u6539\u8FC7\uFF0C \u5982\u679C\u6CA1\u6709\u4FEE\u6539\u670D\u52A1\u7AEF\u8FD4\u56DE304 \u5982\u679C\u4FEE\u6539\u4E86\u8FD4\u56DE200</p><p>Etag\u662F\u7531\u670D\u52A1\u7AEF\u4E3A\u6BCF\u4E2A\u6587\u4EF6\u751F\u6210\u7684\u552F\u4E00hash\u503C\uFF0C \u5982\u679C\u66F4\u65B0\u4E86\u5C31\u91CD\u65B0\u751F\u6210\u65B0\u7684\u3002 \u5BA2\u6237\u7AEF\u5728\u53D1\u8D77\u534F\u5546\u7F13\u5B58\u65F6\uFF0C \u4F1A\u5728If-None-Match\u4E2D\u5E26\u7740\u4E0A\u4E00\u6B21\u7684Etag\uFF0C \u4E0E\u670D\u52A1\u7AEF\u7684Etag\u8FDB\u884C\u5BF9\u6BD4\u3002 \u5982\u679C\u76F8\u540C\u5219\u8FD4\u56DE304</p><p>last-modifierd\u4E0EEtag\u7C7B\u4F3C\uFF0C \u4E0D\u8FC7\u662F\u4E00\u7EC4\u6587\u4EF6\u7684\u4FEE\u6539\u7684\u65F6\u95F4\u3002 \u6709\u4E00\u4E9B\u95EE\u9898\uFF1A \u6BD4\u5982\u670D\u52A1\u7AEF\u548C\u5BA2\u6237\u7AEF\u7684\u65F6\u95F4\u53EF\u80FD\u4E0D\u540C\uFF0C \u65F6\u95F4\u7684\u7CBE\u5EA6\u7B49</p><h3 id="\u670D\u52A1\u7AEF\u6E32\u67D3ssr" tabindex="-1"><a class="header-anchor" href="#\u670D\u52A1\u7AEF\u6E32\u67D3ssr" aria-hidden="true">#</a> \u670D\u52A1\u7AEF\u6E32\u67D3SSR</h3><p>\u53EF\u4EE5\u901A\u8FC7Next\u7B49\u73B0\u6709\u6846\u67B6\u505A\u670D\u52A1\u7AEF\u6E32\u67D3\uFF0C \u5C06html\u7ED8\u5236\u597D\u540E\u8FD4\u56DE\u7ED9\u6D4F\u89C8\u5668\uFF0C \u8BA9\u6D4F\u89C8\u5668\u76F4\u63A5\u6E32\u67D3\uFF0C \u589E\u52A0\u9996\u5C4F\u6E32\u67D3\u901F\u5EA6</p><h2 id="webapck" tabindex="-1"><a class="header-anchor" href="#webapck" aria-hidden="true">#</a> webapck</h2><h3 id="\u63D0\u5347\u6784\u5EFA\u901F\u5EA6" tabindex="-1"><a class="header-anchor" href="#\u63D0\u5347\u6784\u5EFA\u901F\u5EA6" aria-hidden="true">#</a> \u63D0\u5347\u6784\u5EFA\u901F\u5EA6</h3><ol><li><p>\u4E3Aesnlint, babel\u5F00\u542F\u7F13\u5B58, \u5173\u95ED\u7F13\u5B58\u6587\u4EF6\u538B\u7F29</p></li><li><p>\u591A\u7EBF\u7A0B\u6253\u5305(\u4E3Aeslint,babel,terser-webpack-plugin\u63D0\u4F9B\u591A\u7EBF\u7A0B\u80FD\u529B</p></li><li><p>dll \u52A8\u6001\u94FE\u63A5\u5E93</p></li><li><p>modules\u7684OneOf \u53EA\u5339\u914D\u4E00\u4E2Aloader</p></li><li><p>Rule.include or Rule.exclude</p><ul><li>\u53EF\u4EE5\u7ED9eslint, babel\u6307\u5B9A\u68C0\u67E5\u548C\u7F16\u8BD1\u7684\u6587\u4EF6\u8303\u56F4. \u6BD4\u5982\u53EA\u5305\u62ECsrc\u4E0B\u7684\u6587\u4EF6\u200B</li></ul></li></ol><h3 id="\u51CF\u5C11\u4EE3\u7801\u4F53\u79EF" tabindex="-1"><a class="header-anchor" href="#\u51CF\u5C11\u4EE3\u7801\u4F53\u79EF" aria-hidden="true">#</a> \u51CF\u5C11\u4EE3\u7801\u4F53\u79EF</h3><ol><li><p>tree shaking</p><ul><li>\u4F9D\u8D56\u4E8EESmodule, \u5728webpack\u4E2D\u53EA\u8981\u4F7F\u7528ESmodule\u7684\u6A21\u5757\u81EA\u52A8\u5F00\u542Ftree shaking</li></ul></li><li><p>\u63D0\u53D6babel-runtime\u8FD0\u884C\u65F6\u4EE3\u7801\u4E3A\u5355\u72ECchunk</p><ul><li><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u4F9D\u8D56@babel/babel-transform-runtime</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
      <span class="token string">&quot;@babel/plugin-transform-runtime&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;absoluteRuntime&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;corejs&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;helpers&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;regenerator&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;7.0.0-beta.0&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p>\u81EA\u52A8\u538B\u7F29\u672C\u5730\u56FE\u7247\uFF0C \u4F7F\u7528imagemin</p><ul><li><p>\u65E0\u635F\u538B\u7F29\u4E0E\u6709\u635F\u538B\u7F29 https://www.wordpresshy.com/306283</p></li><li><p>webapck/imagemin\u6587\u6863\uFF1A https://webpack.js.org/plugins/image-minimizer-webpack-plugin/#root</p></li><li><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// @craco\u914D\u7F6E  </span>
<span class="token comment">// \u4EE5\u4E0B\u662F\u6709\u635F\u538B\u7F29</span>
<span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;image-minimizer-webpack-plugin&#39;</span><span class="token punctuation">)</span>

<span class="token function">whenProd</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        webpackConfig<span class="token punctuation">.</span>optimization<span class="token punctuation">.</span>minimizer<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
          <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">minimizer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">implementation</span><span class="token operator">:</span> ImageMinimizerPlugin<span class="token punctuation">.</span>imageminMinify<span class="token punctuation">,</span> <span class="token comment">// \u5171\u6709imageminMinify\u548CsquooshMinify\u4E24\u79CD\u6A21\u5F0F</span>
              <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                  <span class="token punctuation">[</span><span class="token string">&#39;gifsicle&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">interlaced</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                  <span class="token punctuation">[</span>
                    <span class="token string">&#39;mozjpeg&#39;</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                      <span class="token comment">// \u56FE\u7247\u538B\u7F29\u8D28\u91CF</span>
                      <span class="token literal-property property">quality</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
                      <span class="token comment">//\u662F\u5426\u5F00\u542F\u6E10\u8FDB\u5F0F\u56FE\u7247</span>
                      <span class="token literal-property property">progressive</span><span class="token operator">:</span> <span class="token boolean">true</span>
                    <span class="token punctuation">}</span>
                  <span class="token punctuation">]</span><span class="token punctuation">,</span>
                  <span class="token punctuation">[</span><span class="token string">&#39;pngquant&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">quality</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                  <span class="token punctuation">[</span>
                    <span class="token string">&#39;svgo&#39;</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                      <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                        <span class="token string">&#39;preset-default&#39;</span><span class="token punctuation">,</span>
                        <span class="token punctuation">{</span>
                          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;removeViewBox&#39;</span><span class="token punctuation">,</span>
                          <span class="token literal-property property">active</span><span class="token operator">:</span> <span class="token boolean">false</span>
                        <span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token punctuation">{</span>
                          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;addAttributesToSVGElement&#39;</span><span class="token punctuation">,</span>
                          <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                            <span class="token literal-property property">attributes</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                              <span class="token punctuation">{</span> <span class="token literal-property property">xmlns</span><span class="token operator">:</span> <span class="token string">&#39;http://www.w3.org/2000/svg&#39;</span> <span class="token punctuation">}</span>
                            <span class="token punctuation">]</span>
                          <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                      <span class="token punctuation">]</span>
                    <span class="token punctuation">}</span>
                  <span class="token punctuation">]</span>
                <span class="token punctuation">]</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>\u200B</p></li><li><p>\u53EA\u80FD\u538B\u7F29\u672C\u5730\u56FE\u7247, \u5916\u94FE\u56FE\u7247\u9700\u8981\u4F7F\u7528\u5176\u4ED6\u624B\u6BB5\u5904\u7406</p></li></ul></li><li><p>\u4EE3\u7801\u5206\u5272\u4E0Epreload/prefetch</p><ul><li><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u4EE3\u7801\u5206\u5272</span>
<span class="token comment">// \u4EE3\u7801\u5206\u5272\u4E3B\u8981\u4F5C\u7528\u662F\u4E3A\u4E86\u66F4\u597D\u7684\u7F13\u5B58</span>
    <span class="token function">whenProd</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        webpackConfig<span class="token punctuation">.</span>optimization<span class="token punctuation">.</span>runtimeChunk <span class="token operator">=</span> <span class="token string">&#39;single&#39;</span><span class="token comment">// \u4E3Aweboack runtime\u5355\u72EC\u6253\u5305\u6210\u4E00\u4E2Achunk</span>
        webpackConfig<span class="token punctuation">.</span>optimization<span class="token punctuation">.</span>splitChunks <span class="token operator">=</span> <span class="token punctuation">{</span>
          <span class="token operator">...</span>webpackConfig<span class="token punctuation">.</span>optimization<span class="token punctuation">.</span>splitChunks<span class="token punctuation">,</span>
          <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token string">&#39;all&#39;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">cacheGroups</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">vendors</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;chunk-libs&#39;</span><span class="token punctuation">,</span>
              <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\\\\/]node_modules[\\\\/]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
              <span class="token literal-property property">reuseExistingChunk</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
              <span class="token literal-property property">priority</span><span class="token operator">:</span> <span class="token number">10</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">react</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;chunk-react&#39;</span><span class="token punctuation">,</span>
              <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(react|react-dom)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
              <span class="token literal-property property">priority</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
              <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token string">&#39;initial&#39;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">antd</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;chunk-antd&#39;</span><span class="token punctuation">,</span>
              <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\\\\/]node_modules[\\\\/]antd</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
              <span class="token literal-property property">priority</span><span class="token operator">:</span> <span class="token number">25</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;chunk-components&#39;</span><span class="token punctuation">,</span>
              <span class="token literal-property property">test</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;src/components&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token literal-property property">priority</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
              <span class="token literal-property property">minChunks</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
              <span class="token literal-property property">reuseExistingChunk</span><span class="token operator">:</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>\u200B</p></li></ul></li></ol><p>###\u4F18\u5316\u4EE3\u7801\u6027\u80FD</p><ol><li>js\u517C\u5BB9\u6027\u914D\u7F6E-babel\u4E0Ecorejs <ul><li>@babel/preset-env\u96C6\u6210\u4E86babel\u7684\u4E00\u4E9B\u9884\u8BBE\u63D2\u4EF6, \u5305\u62EC\u5BF9js\u517C\u5BB9\u6027\u7684\u63D2\u4EF6, \u9ED8\u8BA4\u53EA\u6709ES6\u7684Polify, \u5982\u679C\u60F3\u652F\u6301\u66F4\u65B0\u7684\u8BED\u6CD5. babel\u96C6\u6210\u4E86corejs, \u8FD9\u662F\u4E00\u4E2AES6+\u7684polify\u5E93, \u9700\u8981\u901A\u8FC7\u914D\u7F6Epreset-env\u7684\u9009\u9879</li></ul></li><li>pwa <ul><li>\u5728\u79BB\u7EBF\u72B6\u6001\u4E0B\u4E5F\u80FD\u8BBF\u95EEApp , webpack\u63D2\u4EF6\u540D\u4E3A: workbox-webpack-plugin</li></ul></li></ol><p>##\u4EC0\u4E48\u662Floader</p><ol><li>\u4ECE\u6267\u884C\u987A\u5E8F\u4E0A\u8BF4 \u5206\u4E3A\uFF1A preloader ---&gt; normalloader --&gt; inline loader --&gt; postloader</li><li>\u4ECE\u529F\u80FD\u4E0A\u6765\u8BF4\u53C8\u5206\u4E3A\u540C\u6B65loader\uFF0C \u5F02\u6B65loader\u548Cpitch loader</li><li>loader\u7684\u6267\u884C\u9636\u6BB5\u4E3A \u5148\u987A\u5E8F\u6267\u884Cpitch\uFF0C \u518D\u9006\u5E8F\u6267\u884Cnormal-loader\u3002 \u82E5\u6709pitch\u4E2Dreturn\u4E86\u5219\u4F1A\u53D1\u751F\u7194\u65AD</li><li>\u7194\u65AD\u6307\u7684\u662F\u5F53\u524Dloader\u548C\u540E\u9762\u7684loader\u4E0D\u518D\u6267\u884C\uFF0C \u524D\u9762\u7684loader\u4F1A\u6267\u884C</li></ol><h2 id="\u81EA\u5B9A\u4E49loader" tabindex="-1"><a class="header-anchor" href="#\u81EA\u5B9A\u4E49loader" aria-hidden="true">#</a> \u81EA\u5B9A\u4E49loader</h2><blockquote><p>loader\u5C31\u662F\u901A\u8FC7Commonjs\uFF0C \u66B4\u9732\u7684\u4E00\u4E2A\u51FD\u6570\uFF0C \u5728\u89E3\u6790\u6587\u4EF6\u65F6\u5019\u4F1A\u88AB\u6267\u884C</p></blockquote><h3 id="\u540C\u6B65loader" tabindex="-1"><a class="header-anchor" href="#\u540C\u6B65loader" aria-hidden="true">#</a> \u540C\u6B65loader</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// content: \u6587\u4EF6\u7684\u5185\u5BB9\uFF0C \u4E3A\u5B57\u7B26\u4E32</span>
<span class="token comment">// map\uFF1AsourceMap\u76F8\u5173</span>
<span class="token comment">// meta\uFF1A \u522B\u7684loader\u4F20\u9012\u7684\u53C2\u6570</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">content\uFF0C map\uFF0C meta</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> content <span class="token comment">// \u5FC5\u987B\u5C06content\u8FD4\u56DE</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u6216\u8005</span>
<span class="token comment">// \u8FD9\u79CD\u65B9\u6CD5\u4E0D\u9700\u8981\u5982return</span>
<span class="token comment">// \u53EA\u9700\u8981\u8C03\u7528this\u8EAB\u4E0A\u7684callback\u65B9\u6CD5</span>
<span class="token comment">// callback\u7684\u7B2C\u4E00\u4E2A\u53C2\u6570\u662F\u9519\u8BEF\u5BF9\u8C61\uFF0C \u5982\u679C\u6709\u7684\u8BDD\u3002</span>
<span class="token comment">// \u8FD9\u6837\u53EF\u4EE5\u8BA9\u4E0B\u4E2Aloader\u63A5\u53D7\u5230\u9519\u8BEF\u4FE1\u606F</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> map<span class="token punctuation">,</span> meta</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">callback</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> content<span class="token punctuation">,</span> map<span class="token punctuation">,</span> meta<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5F02\u6B65loader" tabindex="-1"><a class="header-anchor" href="#\u5F02\u6B65loader" aria-hidden="true">#</a> \u5F02\u6B65loader</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> map<span class="token punctuation">,</span> meta</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">const</span> callback <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">async</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
       <span class="token function">callback</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> map<span class="token punctuation">,</span> meta<span class="token punctuation">)</span>	
   <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u539F\u751Floader" tabindex="-1"><a class="header-anchor" href="#\u539F\u751Floader" aria-hidden="true">#</a> \u539F\u751Floader</h3><blockquote><p>\u539F\u751Floader\u4E00\u822C\u5904\u7406\u56FE\u7247\u7B49\u8D44\u6E90\u3002 \u53EF\u4EE5\u83B7\u5F97buffer\u6570\u636E</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">testLoader</span> <span class="token punctuation">(</span><span class="token parameter">content</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// console.log(content)  // content\u662FBuffer\u6570\u636E</span>
<span class="token punctuation">}</span>

testLoader<span class="token punctuation">.</span>raw <span class="token operator">=</span> <span class="token boolean">true</span> 

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> testLoader
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="pitch-loader" tabindex="-1"><a class="header-anchor" href="#pitch-loader" aria-hidden="true">#</a> pitch loader</h3><blockquote><p>\u5728loader\u6267\u884C\u4E4B\u524D\u6267\u884C pitch \u7684\u6267\u884C\u987A\u5E8F\u7C7B\u4F3C\u4E8E\u6355\u83B7\u9636\u6BB5\uFF08\u4ECE\u524D\u5411\u540E\uFF0C \u5728\u6240\u6709loader\u6267\u884C\u4E4B\u524D\uFF09 loader\u7684\u6267\u884C\u987A\u5E8F\u7C7B\u4F3C\u4E8E\u5192\u6CE1\uFF0C \u4ECE\u540E\u5411\u524D\uFF08\u5728\u6240\u6709pitch\u4E4B\u540E\uFF09 pitch \u4E2D\u82E5return\u4E86\u7ED3\u679C\uFF0C \u672C\u6B21\u7684loader\u4EE5\u53CA\u540E\u9762\u7684\u6240\u6709\u7684loader\u548Cpitch\u5C06\u4E0D\u4F1A\u6267\u884C\uFF0C \u4E4B\u524D\u7684loader\u4F9D\u7136\u4F1A\u88AB\u8C03\u7528</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span><span class="token function-variable function">pitch</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// \u7ED9loader\u8EAB\u4E0A\u6302\u8F7Dpitch\u65B9\u6CD5\u5373\u4E3Apitch loader</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="loader-api" tabindex="-1"><a class="header-anchor" href="#loader-api" aria-hidden="true">#</a> loader API</h3><p><a href="https://webpack.docschina.org/api/loaders">loader Api</a></p><h3 id="\u79FB\u9664console\u7684loader" tabindex="-1"><a class="header-anchor" href="#\u79FB\u9664console\u7684loader" aria-hidden="true">#</a> \u79FB\u9664console\u7684loader</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">content</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// console.log(typeof content);  content\u9ED8\u8BA4\u662F\u6587\u4EF6\u5185\u5BB9\u5B57\u7B26\u4E32</span>
    <span class="token keyword">const</span> logReg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">console\\.log\\(.*\\);?</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span> 
    
    <span class="token keyword">return</span> content<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>logReg<span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u7B80\u6613\u7248file-loader" tabindex="-1"><a class="header-anchor" href="#\u7B80\u6613\u7248file-loader" aria-hidden="true">#</a> \u7B80\u6613\u7248file-loader</h3><p><a href="https://www.bbsmax.com/A/A2dmGgjOJe">\u4EC0\u4E48\u662FJSON scheme</a></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span>interpolateName <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;loader-utils&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;object&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">properties</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">&quot;string&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">content</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token comment">// \u5F53loader\u51FD\u6570\u8EAB\u4E0A\u7684raw\u5C5E\u6027\u4E3Atrue\u65F6\u5019\uFF0C content\u63A5\u53D7\u7684\u662F\u6587\u4EF6\u7684buffer</span>
    <span class="token comment">// 0. \u751F\u6210\u65B0\u7684\u6587\u4EF6\u540D</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> filename <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getOptions</span><span class="token punctuation">(</span>schema<span class="token punctuation">)</span> <span class="token comment">// </span>
    <span class="token keyword">const</span> newFilename <span class="token operator">=</span> <span class="token function">interpolateName</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> filename<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        content
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// 1. \u6839\u636Ebuffer\u751F\u6210\u56FE\u7247\uFF0C \u8981\u6C42\u56FE\u7247\u540D\u552F\u4E00</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">emitFile</span><span class="token punctuation">(</span>newFilename<span class="token punctuation">,</span> content<span class="token punctuation">)</span>

    <span class="token comment">// 2. \u8FD4\u56DE\u4E00\u6BB5js\u811A\u672C\uFF0C \u7528\u6587\u4EF6\u7684\u8DEF\u5F84\u4EE3\u66FF\u56FE\u7247\u6A21\u5757</span>
    <span class="token comment">// \u4E0D\u8981\u5FD8\u4E86\u52A0\u5F15\u53F7</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">export default &#39;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>newFilename<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&#39;</span><span class="token template-punctuation string">\`</span></span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>raw <span class="token operator">=</span> <span class="token boolean">true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u4EC0\u4E48\u662Fplugin" tabindex="-1"><a class="header-anchor" href="#\u4EC0\u4E48\u662Fplugin" aria-hidden="true">#</a> \u4EC0\u4E48\u662Fplugin</h2><p>\u5728webpack\u7684\u6784\u5EFA\u8FC7\u7A0B\u4E2D\uFF0C \u901A\u8FC7\u66B4\u9732\u7684\u94A9\u5B50\u5D4C\u5165\u4E00\u4E9B\u6267\u884C\u7684\u903B\u8F91\uFF0C \u4ECE\u800C\u4E30\u5BCC\u6574\u4E2Awebpack\u6784\u5EFA\u8FC7\u7A0B\u3002 \u662F\u4E3A\u4E86\u5F25\u8865loader\u4E0D\u80FD\u505A\u5230\u7684\u4E8B\u60C5\u7684\u529F\u80FD \u6587\u6863\uFF1A <a href="https://webpack.docschina.org/contribute/writing-a-plugin/">webpack plugin</a></p><h3 id="\u81EA\u5B9A\u4E49bannerwebpackplugin" tabindex="-1"><a class="header-anchor" href="#\u81EA\u5B9A\u4E49bannerwebpackplugin" aria-hidden="true">#</a> \u81EA\u5B9A\u4E49BannerWebpackPlugin</h3><blockquote><p>\u4E3A\u6BCF\u4E2Ajs \u6216\u8005 css\u8D44\u6E90\u751F\u6210\u4F5C\u8005\u6CE8\u91CA\u4FE1\u606F\u7684\u63D2\u4EF6</p></blockquote><p>\u6CE8\u610F\u70B9\uFF1A</p><ol><li>\u6BCF\u4E2A\u63D2\u4EF6\u90FD\u662F\u6784\u9020\u51FD\u6570\u6216\u8005\u7C7B\u3002 \u4E14\u5FC5\u987B\u6709\u80FD\u8BBF\u95EE\u5230\u7684apply\u65B9\u6CD5</li><li>compilier\u662F\u6574\u4E2Awebpack\u6784\u5EFA\u4E2D\u7684\u5BF9\u8C61\uFF0C \u53EA\u6784\u5EFA\u4E00\u6B21\u3002compilation\u662F\u6BCF\u4E2A\u5165\u53E3chunk\u90FD\u4F1A\u6784\u5EFA\u4E00\u4E2A\u7684\u5BF9\u8C61</li><li>\u7ED1\u5B9Ahook\u7684\u57FA\u672C\u89C4\u5219\u662F compiler.hooks.\u5177\u4F53\u7684hook.\u7ED1\u5B9A\u65B9\u5F0F(tapAsync/tap/tapPromise)</li><li>compilation.assets\u53EF\u4EE5\u83B7\u5F97\u6B64\u6B21\u7F16\u8BD1\u7684\u6240\u6709\u8D44\u6E90\uFF0C \u901A\u8FC7\u6DFB\u52A0\u6216\u5220\u9664assets\u53EF\u4EE5\u5F71\u54CD\u8F93\u51FA\u7684\u6587\u4EF6</li><li>\u6BCF\u4E00\u4E2Aasset\u90FD\u662F\u4E00\u4E2A{ size\uFF08\uFF09{}\uFF0C source\uFF08\uFF09{} } \u5F62\u72B6\u7684\u5BF9\u8C61\u3002 size\u65B9\u6CD5\u8FD4\u56DE\u8BE5\u8D44\u6E90\u7684\u5927\u5C0F\uFF0C source\u65B9\u6CD5\u8FD4\u56DE\u8BE5\u8D44\u6E90\u7684\u5B9E\u9645\u5185\u5BB9\uFF08Buffer\u6216\u8005String\uFF09</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">BannerWebpackPlugin</span> <span class="token punctuation">{</span> 
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">options <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>options <span class="token operator">=</span> options
     <span class="token punctuation">}</span>
    <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u83B7\u53D6hook\uFF0C \u7136\u540E\u901A\u8FC7tap\uFF1A\u901A\u8FC7\u6CE8\u518C tapAsync\uFF1A \u5F02\u6B65\u6CE8\u6D4B tapPromise\uFF1A\u5F02\u6B65promise\u6CE8\u518Chook</span>
        compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>emit<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">&#39;BannerWebpackPlugin&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">compilation</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> extensions <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;js&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;css&#39;</span><span class="token punctuation">]</span> <span class="token comment">// \u89C4\u5B9A\u53EA\u7ED9js\u548Ccss\u6587\u4EF6\u52A0\u6CE8\u91CA\uFF0C \u5176\u4ED6\u7684\u6BD4\u5982\u56FE\u7247\u4E0D\u52A0\u6CE8\u91CA</span>
            <span class="token keyword">const</span> assets <span class="token operator">=</span> compilation<span class="token punctuation">.</span>assets
            
            <span class="token keyword">const</span> assetKey <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>assets<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">const</span> extenssion <span class="token operator">=</span> key<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span> extensions<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>extenssion<span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>

            <span class="token keyword">const</span> author <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">
               /**
                * Author: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>author<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 
                * Data: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 
                * 
                * **/
            </span><span class="token template-punctuation string">\`</span></span>
            assetKey<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            
                <span class="token keyword">const</span> asset <span class="token operator">=</span> assets<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

                assets<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
                    <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                        <span class="token keyword">return</span> asset<span class="token punctuation">.</span>length <span class="token operator">+</span> author<span class="token punctuation">.</span>length
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                        <span class="token keyword">return</span>  author <span class="token operator">+</span> asset
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>

        <span class="token punctuation">}</span><span class="token punctuation">)</span>
     <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> BannerWebpackPlugin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u81EA\u5B9A\u4E49analyzewebpackplugin" tabindex="-1"><a class="header-anchor" href="#\u81EA\u5B9A\u4E49analyzewebpackplugin" aria-hidden="true">#</a> \u81EA\u5B9A\u4E49AnalyzeWebpackPlugin</h3><blockquote><p>\u751F\u6210\u6BCF\u4E2A\u5305\u7684\u5927\u5C0F\u5206\u6790\u6587\u4EF6</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">AnalyzeWebpackPlugin</span> <span class="token punctuation">{</span> 
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">options <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token comment">/* \u9700\u8981\u7684\u8BDD\u81EA\u884C\u6DFB\u52A0 */</span>    
    <span class="token punctuation">}</span>
    <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>emit<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">&#39;AnalyzeWebpackPlugin&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">compilation</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
            <span class="token keyword">const</span> assets <span class="token operator">=</span> compilation<span class="token punctuation">.</span>assets
            
            <span class="token keyword">let</span> md <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">| \u5E8F\u53F7 | \u8D44\u6E90\u540D\u79F0 | \u8D44\u6E90\u5927\u5C0F |\\n| --- | --- | --- |</span><span class="token template-punctuation string">\`</span></span>

            Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>assets<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>name<span class="token punctuation">,</span> file<span class="token punctuation">]</span><span class="token punctuation">,</span>index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
                md <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">\\n| </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>index<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> | </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> | </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>file<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> |</span><span class="token template-punctuation string">\`</span></span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>

            assets<span class="token punctuation">[</span><span class="token string">&#39;analyze-report.md&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
                <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
                    <span class="token keyword">return</span> md<span class="token punctuation">.</span>length
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
                    <span class="token keyword">return</span> md
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> AnalyzeWebpackPlugin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,157);function g(h,f){return b}var x=n(v,[["render",g],["__file","\u6027\u80FD\u4F18\u5316.html.vue"]]);export{x as default};
